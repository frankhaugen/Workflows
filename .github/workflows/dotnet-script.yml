name: Install .net and run dotnet script (Ubuntu)

on:
    workflow_call:
        inputs: 
            os:
              description: 'Operating system to run the workflow on'
              required: true
              default: 'ubuntu-latest'
              type: string
            script-path:
                type: string
                required: true
                description: 'Path to the C# script file'
    workflow_dispatch:
        inputs: 
            script-path:
                description: 'Path to the C# script file'
                required: true

jobs:
    run_script:
        name: Run Script (${{ github.event.inputs.script-path }})
        runs-on: ${{ github.event.inputs.os }}
        steps:
            - uses: frankhaugen/Workflows/.github/actions/github-checkout@main
            - uses: frankhaugen/Workflows/.github/actions/dotnet-setup@main
            - uses: frankhaugen/Workflows/.github/actions/dotnet-script-install@main
            - run: ls
            - uses: frankhaugen/Workflows/.github/actions/dotnet-script-run@main
              with:
                  script-path: ${{ inputs.script-path }}
